{
  // =============================================================================
  // Linux Voice Assistant (LVA) — Configuration Example
  //
  // Notes:
  // - This file uses JSON-with-comments (jsonc). Your editor may support it.
  // - The app loads config via linux_voice_assistant.config.load_config_from_json().
  // - Some behavior can be overridden by CLI flags (e.g., --debug).
  // =============================================================================

  // ---------------------------------------------------------------------------
  // Required
  // ---------------------------------------------------------------------------
  "app": {
    // Required: Friendly name for this LVA instance
    "name": "My Linux Voice Assistant",

    // Optional: Wake word triggered sound (relative to repo root)
    "wakeup_sound": "sounds/wake_word_triggered.flac",

    // Optional: Timer finished sound (relative to repo root)
    "timer_finished_sound": "sounds/timer_finished.flac",

    // Optional: Preferences file used to persist state like volume/num_leds
    // (relative to repo root)
    "preferences_file": "preferences.json",

    // Optional: Enables debug logging by default
    // Note: can also be enabled via CLI flag --debug
    "debug": false
  },

  // ---------------------------------------------------------------------------
  // Optional: Audio I/O + Output Volume Sync
  // ---------------------------------------------------------------------------
  "audio": {
    // Optional:
    // - null/omit => default microphone
    // - string name => exact device name (soundcard backend)
    // - string number => index into soundcard device list (e.g. "0", "1", ...)
    "input_device": null,

    // Optional: audio capture block size
    "input_block_size": 1024,

    // Optional:
    // - null/omit => mpv chooses default output
    // - string => mpv audio-device (e.g. "pulse/alsa_output....")
    "output_device": null,

    // Optional: Sync the host OS output volume at startup to match the volume
    // stored in preferences.json (LVA MediaPlayer volume).
    //
    // When enabled, LVA will attempt (in order): wpctl -> pactl -> amixer.
    //
    // Default: false
    "volume_sync": false,

    // Optional: Maximum output volume percent for the underlying sink.
    //
    // Default: 100
    "max_volume_percent": 100
  },

  // ---------------------------------------------------------------------------
  // Optional: Wake word config
  // ---------------------------------------------------------------------------
  "wake_word": {
    // Optional: If omitted/empty, code falls back to defaults:
    // ["wakewords", "wakewords/openWakeWord"]
    //
    // Paths are relative to repo root.
    "directories": [],

    // Optional: default wake word model id
    "model": "okay_nabu",

    // Optional: stop model id (micro wake word)
    "stop_model": "stop",

    // Optional: debounce/refractory window after wake word triggers
    "refractory_seconds": 2.0,

    // Optional: directory for downloaded models (relative to repo root)
    "download_dir": "local"
  },

  // ---------------------------------------------------------------------------
  // Optional: ESPHome protocol server settings (the LVA exposes an ESPHome API)
  // ---------------------------------------------------------------------------
  "esphome": {
    // Default: "0.0.0.0" (listen on all interfaces)
    "host": "0.0.0.0",

    // Default: 6053
    "port": 6053
  },

  // ---------------------------------------------------------------------------
  // Optional: LEDs
  // ---------------------------------------------------------------------------
  "led": {
    // Optional: if false, LED controller runs in no-op mode
    "enabled": true,

    // "dotstar" | "neopixel" | "xvf3800"
    "led_type": "dotstar",

    // "spi" | "gpio" | "usb"
    // - dotstar: "spi" or "gpio"
    // - neopixel: "spi" or "gpio"
    // - xvf3800: "usb"
    "interface": "spi",

    // GPIO pins — used when interface="gpio"
    // For DotStar GPIO: both clock_pin + data_pin are used
    // For NeoPixel GPIO: only data_pin is used (clock_pin ignored)
    // For XVF3800: unused and ignored
    "clock_pin": 13,
    "data_pin": 12,

    // Default number of LEDs (may be overridden by preferences.json after first run)
    "num_leds": 3
  },

  // ---------------------------------------------------------------------------
  // Optional: MQTT
  //
  // IMPORTANT for Tray Client:
  // - The tray client requires MQTT enabled AND mqtt.host set.
  // - If mqtt.host is null/empty, tray client will refuse to start.
  // ---------------------------------------------------------------------------
  "mqtt": {
    // If set, mqtt.enabled becomes true automatically
    "host": null,

    "port": 1883,
    "username": null,
    "password": null
  },

  // ---------------------------------------------------------------------------
  // Optional: Button controller
  // ---------------------------------------------------------------------------
  "button": {
    // Master enable
    "enabled": false,

    // "gpio" | "xvf3800"
    // - gpio: short/long press logic (pin + long_press_seconds)
    // - xvf3800: uses the XVF3800 built-in mute button as a mute toggle
    "mode": "gpio",

    // gpio mode only
    "pin": 17,
    "long_press_seconds": 1.0,

    // Polling interval (used by both gpio + xvf3800 button controllers)
    "poll_interval_seconds": 0.01
  },

  // ---------------------------------------------------------------------------
  // Optional: Desktop Tray Client
  // ---------------------------------------------------------------------------
  "tray": {
    // The systemd --user unit name the tray client controls (start/stop/restart).
    //
    // The tray client default (if omitted): "linux-voice-assistant.service"
    //
    // If you renamed the LVA unit, set it here so the tray menu controls
    // the correct service.
    "systemd_service_name": "linux-voice-assistant.service"
  }

  // ---------------------------------------------------------------------------
  // Back-compat note (optional)
  // ---------------------------------------------------------------------------
  // Historically, some setups used a top-level "volume_sync".
  // If your loader supports it, it typically maps to audio.volume_sync.
  //
  // "volume_sync": false
}
